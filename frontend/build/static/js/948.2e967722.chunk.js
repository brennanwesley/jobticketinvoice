"use strict";(self.webpackChunkjobticketinvoice_frontend=self.webpackChunkjobticketinvoice_frontend||[]).push([[948],{948:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(5043),c=a(2136),i=a(3059),n=a(2807),r=(a(2376),a(579));const l=()=>{const{t:e}=(0,c.ok)(),{draftTickets:t,setSelectedDraftTicket:a,setViewMode:l,deleteDraftTicket:d,setTicketMode:m}=(0,i.yS)(),[x,p]=(0,s.useState)(!1),[h,k]=(0,s.useState)(null),j=(0,s.useCallback)((e=>{if(!e)return"-";try{return e}catch(t){return e}}),[]),y=((0,s.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length>t?"".concat(e.substring(0,t),"..."):e:""}),[]),(0,s.useCallback)((e=>{a(e),l("draft")}),[a,l])),u=(0,s.useCallback)((e=>{k(e),p(!0)}),[k]),g=(0,s.useCallback)((()=>{h&&(a(h),m("manual"),l("form"),d(h.id)),p(!1)}),[h,a,m,l,d]),b=(0,s.useCallback)((()=>{k(null),p(!1)}),[]),f=(0,s.useCallback)((e=>{d(e)}),[d]);return(0,r.jsxs)("div",{className:"py-6 px-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:e("jobTicket.drafts")}),(0,r.jsx)(n.Zp,{className:"overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"sticky top-0 bg-gray-800 px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider w-24",children:e("common.edit")}),(0,r.jsx)("th",{className:"sticky top-0 bg-gray-800 px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider w-24 sm:w-auto",children:e("jobTicket.date")}),(0,r.jsx)("th",{className:"sticky top-0 bg-gray-800 px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider w-48 sm:w-1/4",children:e("jobTicket.company")}),(0,r.jsx)("th",{className:"sticky top-0 bg-gray-800 px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider w-48 sm:w-1/4",children:e("jobTicket.location")}),(0,r.jsx)("th",{className:"sticky top-0 bg-gray-800 px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider w-16 sm:w-auto",children:e("jobTicket.hours")}),(0,r.jsx)("th",{className:"sticky top-0 bg-gray-800 px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:e("jobTicket.description")}),(0,r.jsx)("th",{className:"sticky top-0 bg-gray-800 px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:e("common.actions")})]})}),0===t.length?(0,r.jsx)("tbody",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"7",className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-gray-400",children:e("jobTicket.noDrafts")})})})})}):(0,r.jsx)("tbody",{className:"divide-y divide-gray-700",children:(0,r.jsx)(n.wj,{items:t,height:400,itemHeight:64,renderItem:t=>(0,r.jsx)(o,{ticket:t,formatDate:j,handleEditTicket:u,handleViewTicket:y,handleDeleteTicket:f,t:e},t.id),overscan:5,emptyComponent:(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"7",className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)(n.kt,{size:"md"})})})})})})]})})}),(0,r.jsx)(n.aF,{isOpen:x,onClose:b,title:e("jobTicket.editConfirmation"),size:"md",footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.$n,{variant:"secondary",onClick:b,children:e("common.no")}),(0,r.jsx)(n.$n,{variant:"primary",onClick:g,className:"ml-3",children:e("common.yes")})]}),children:(0,r.jsx)("p",{children:e("jobTicket.editConfirmationMessage")})})]})},o=s.memo((e=>{let{ticket:t,formatDate:a,handleEditTicket:s,handleViewTicket:c,handleDeleteTicket:i,t:l}=e;return(0,r.jsxs)("tr",{className:"hover:bg-gray-700",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:(0,r.jsx)(n.$n,{variant:"outline",size:"sm",onClick:()=>s(t),className:"text-orange-500 hover:text-orange-400 font-medium","aria-label":"".concat(l("common.edit")," ").concat(t.companyName||l("jobTicket.untitledTicket")),children:l("common.edit")})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a(t.jobDate)}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,r.jsx)("div",{className:"truncate",children:t.companyName||l("jobTicket.untitledTicket")})}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,r.jsx)("div",{className:"truncate",children:t.location||"-"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.workTotalHours||"0"}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,r.jsx)("div",{className:"truncate",children:t.workDescription||"-"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end sm:space-x-3 space-y-2 sm:space-y-0",children:[(0,r.jsx)(n.$n,{variant:"outline",size:"sm",onClick:()=>c(t),className:"text-blue-500 hover:text-blue-400","aria-label":"".concat(l("common.view")," ").concat(t.companyName||l("jobTicket.untitledTicket")),children:l("common.view")}),(0,r.jsx)(n.$n,{variant:"outline",size:"sm",onClick:()=>i(t.id),className:"text-red-500 hover:text-red-400","aria-label":"".concat(l("common.delete")," ").concat(t.companyName||l("jobTicket.untitledTicket")),children:l("common.delete")})]})})]})})),d=s.memo(l)}}]);
//# sourceMappingURL=948.2e967722.chunk.js.map